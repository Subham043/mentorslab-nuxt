<template>
    <div>

      <div class="ittc-banner">
        <div class="container">
          <div class="row">
            <div class="col-md-7 col-sm-12">
              <h1>
                Integrated Teachers Training<br/>Certification Program (ITTC)
              </h1>
              <h3>
                One of the best integrated <b>Teachers Training Program</b>
              </h3>
              <button class="btn" @click="dialogFormVisible = true">Apply Now</button>
            </div>
            <div class="col-md-5 col-sm-12">
              <img src="/images/ittc.jpeg" alt="">
            </div>
          </div>
        </div>
      </div>

      <div class="py-5 detail">
        <div class="container">
          <div class="row">
            <div class="col-12 mb-5">
              <div class="section-title section-devider text-center">
                  <h2 class="title">WHY CHOOSE ITTC ?</h2>
              </div>
            </div>
            <div class="col-md-6 col-sm-12">
              <p>PFLA believes that academic briliance alone does not guarantee success in today's
highly competitive and fast paced world. With Academic achievements, SKILL
DEVELOPMENT is an absolute must to be employable, be competitive and succeed
in Life.</p>
                                <p>Our purpose is to help people unleash their true potential through life transforming
Personal Excellence Programs and motivate them to be successful in School, College
and Life. PFLA is an Award Winning (Future of India Award for Business
Excellence Achievement under Quality in Leadership Excellence) Academy. We
have trained and coached over 35000 people that include young Students at Schools,
Colleges and Business Schools, Corporate and Government Employees, Teaching
community</p>

            <button class="btn" @click="dialogFormVisible = true">Explore More</button>
            </div>
            <div class="col-md-6 col-sm-12">
              <iframe src="https://www.youtube-nocookie.com/embed/NGtNx1Y0o2U" class="w-100 h-100" frameborder="0"></iframe>
            </div>
            <div class="col-md-6 col-sm-12 mt-5">
              <iframe src="https://www.youtube-nocookie.com/embed/2hNl214ewdE" class="w-100 h-100" frameborder="0"></iframe>
            </div>
            <div class="col-md-6 col-sm-12 mt-5">
              <p>PFLA believes that academic briliance alone does not guarantee success in today's
highly competitive and fast paced world. With Academic achievements, SKILL
DEVELOPMENT is an absolute must to be employable, be competitive and succeed
in Life.</p>
                                <p>Our purpose is to help people unleash their true potential through life transforming
Personal Excellence Programs and motivate them to be successful in School, College
and Life. PFLA is an Award Winning (Future of India Award for Business
Excellence Achievement under Quality in Leadership Excellence) Academy. We
have trained and coached over 35000 people that include young Students at Schools,
Colleges and Business Schools, Corporate and Government Employees, Teaching
community</p>

            <button class="btn" @click="dialogFormVisible = true">Explore More</button>
            </div>
          </div>
        </div>
      </div>

      <div class="detail">
          <div class="shape_bg_div pt-5">
            <div class="container">
              <div class="row">
                <div class="col-12 mb-5">
                  <div class="section-title section-devider text-center">
                      <h2 class="title">BENEFITS</h2>
                  </div>
                </div>

              </div>
              <div class="row justify-content-center gap-5">
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-postcard"></i>
                        </div>
                      </div>
                      <h4>ISO CERTIFIED</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-money"></i>
                        </div>
                      </div>
                      <h4>LOWEST FEES</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-key"></i>
                        </div>
                      </div>
                      <h4>USER PERMISSION</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-service"></i>
                        </div>
                      </div>
                      <h4>MULTI-LANGUAGE SUPPORT</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-trophy"></i>
                        </div>
                      </div>
                      <h4>100% PLACEMENT ASSISTANCE</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-user"></i>
                        </div>
                      </div>
                      <h4>HIGHLY EXPERIENCED TEACHERS</h4>
                    </div>
                </div>
              </div>
            </div>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 220">
            <path fill="#dde8fa" fill-opacity="1" d="M0,128L80,106.7C160,85,320,43,480,58.7C640,75,800,149,960,160C1120,171,1280,117,1360,90.7L1440,64L1440,0L1360,0C1280,0,1120,0,960,0C800,0,640,0,480,0C320,0,160,0,80,0L0,0Z"></path>
          </svg>
        </div>

         <!-- client Start -->
         <div class="section certificate-section section-padding pt-0">
            <div class="container">
                <!-- Certificate Wrapper Start -->
                <div class="certificate-wrapper">
                    <!-- Section Title Start -->
                    <div class="section-title section-devider text-center">
                        <h2 class="title">Awards and Accolades</h2>
                    </div>
                    <!-- Section Title End -->
                    <!-- Certificate Content Wrapper Start -->
                    <div class="certificate-content-wrapper">
                        <div class="row">
                            <FrontendAwardCardComponent image="/images/7.jpg" title="Future of India Award for Quality and Leadership Excellence" />
                            <FrontendAwardCardComponent image="/images/8.jpg" title="Best Coaching Institute of the Year Award 2021" />
                            <FrontendAwardCardComponent image="/images/25.jpeg" title="Education Start up of the Year 2021" />
                        </div>
                    </div>
                    <!-- Certificate Content Wrapper End -->
                </div>
                <!-- Certificate Wrapper End -->
            </div>
        </div>
        <!-- client End -->



        <!-- Certificate Start -->
      <div class="section certificate-section section-padding pt-5 mb-5">
            <div class="container">
                <!-- Certificate Wrapper Start -->
                <div class="certificate-wrapper">
                    <!-- Section Title Start -->
                    <div class="section-title section-devider text-center">
                        <h2 class="title">SCHOOL RECRUITING</h2>
                    </div>
                    <!-- Section Title End -->
                    <!-- Certificate Content Wrapper Start -->
                    <div class="certificate-content-wrapper client-wrapper">
                        <div class="row swiper-container client-active">
                            <div class="swiper-wrapper">
                                <VueSlickCarousel v-bind="slickOptionsClient" ref="slickClient">
                                    <FrontendClientCardComponent image="/images/clients/cl1.png" />
                                    <FrontendClientCardComponent image="/images/clients/2.png" />
                                    <FrontendClientCardComponent image="/images/clients/3.png" />
                                    <FrontendClientCardComponent image="/images/clients/5.png" />
                                    <FrontendClientCardComponent image="/images/clients/6.png" />
                                    <FrontendClientCardComponent image="/images/clients/7.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl2.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl3.png" />
                                    <FrontendClientCardComponent image="/images/clients/11.png" />
                                    <FrontendClientCardComponent image="/images/clients/12.png" />
                                    <FrontendClientCardComponent image="/images/clients/13.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl4.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                                    <FrontendClientCardComponent image="/images/clients/16.png" />
                                    <FrontendClientCardComponent image="/images/clients/18.png" />
                                    <FrontendClientCardComponent image="/images/clients/19.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                            </VueSlickCarousel>
                                <!-- <div class="swiper-pagination"></div> -->
                            </div>
                        </div>
                    </div>
                    <!-- Certificate Content Wrapper End -->
                </div>
                <!-- Certificate Wrapper End -->
            </div>
      </div>
        <!-- Certificate End -->


        <!-- Testimonial Start -->
        <div class="section testimonial-section section-padding mb-5">
            <div class="container">
                <div class="section-title section-devider text-center">
                    <h2 class="title">TESTIMONIAL</h2>
                </div>
                <!-- Testimonial Wrapper Start -->
                <div class="testimonial-wrapper swiper-container testimonial-active">
                    <div class="swiper-wrapper">
                        <VueSlickCarousel v-bind="slickOptions" ref="slickTestimonial">
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Priya Roshan"
                            designation="ITTC participant Batch 10"
                            message='Glad to connect with you again with this mail. It gives me immense happiness in sharing this news with you all.  In my first year of teaching career, i have been awarded with "The Best Teacher Award for the year 2014-2015" by my school-New Beginnings Pre-school for Excellence.. I want to thank you all for making this happen to me. Without your guidance and training, this would not have been possible. Your training has really helped me getting this award. Special thanks to Shuba mam and Nalina Mam.' />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Bhuvaneshwari Vishwanathan"
                            designation="Facilitator’s Program Batch"
                            message="Thank you for giving me an opportunity to attend this training.  The Facilitation Program that I attended was one of the excellent programs that I have attended so far.  The instructors were excellent with great experience and diverse knowledge, good reference material, knowledgeable staff and moreover it was well organised. Practical references made the course significantly more valuable. The training was fantastic I already found multiple applications in my own work. Looking forward for more trainings." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Neethu Reddy"
                            designation="ITTC Batch"
                            message="ITTC is not only a program that is designed for the teachers but anyone who seek guidance in relation to a child. My experience here was one of the best days where I not only enjoyed myself but also learnt many aspects of a child. I also learnt more about myself. This is truly like a life skills class. I would strongly recommend it to anyone who wants to learn about children." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Neha Agarwal"
                            designation="ITTC Batch"
                            message="M’am when I joined your class, I remember, first day I came with a blank face, confused and without any goals..Now I feel I can face every challenge,
confusion and last but not the least, honestly felt worth learning a lot from you and this course.. This course has given me a lot more than I expected...and needed it somewhere to enhance my hidden and lost confidence!
Varada Murthy Sir.. Sir you are doing a superb job for upcoming generation and young Indians, we teachers and children." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Priya Roshan"
                            designation="ITTC Batch"
                            message='Glad to connect with you again with this mail. It gives me immense happiness in sharing this news with you all.  In my first year of teaching career, i have been awarded with "The Best Teacher Award for the year 2014-2015" by my school-New Beginnings Pre-school for Excellence. I want to thank you all for making this happen to me. Without your guidance and training, this would not have been possible. Your training has really helped me getting this award. Special thanks to Shuba mam and Nalina Mam.' />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Pradeepa"
                            designation="ITTC BTM Batch"
                            message="First of all this opportunity made me to come out of my shell. At the outset, I have to
confess that the whole credit goes to Nalina Mam. The classes were systematically planned to initiate a proper attitudes to be a teacher. I got lot of insights concerning teaching, education especially how the children's entire future is entrusted in a teacher's hand.
" />
                    </VueSlickCarousel>
                    <SliderNavButtonComponent @previous-click="prevTestimonialNavClick" @next-click="nextTestimonialNavClick" />
                    </div>
                    <!-- Add Pagination -->
                    <!-- <div class="testimonial-arrow swiper-button-next"></div>
                    <div class="testimonial-arrow swiper-button-prev"></div>

                    <div class="swiper-pagination"></div> -->
                </div>
                <!-- Testimonial Wrapper End -->
            </div>
        </div>
        <!-- Testimonial End -->

        <div class="py-5 detail mb-5">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-12 mb-5">
              <div class="section-title section-devider text-center">
                  <h2 class="title">FAQ</h2>
              </div>
            </div>
            <div class="col-md-6 col-sm-12">
              <el-collapse v-model="activeName" accordion>
                  <el-collapse-item name="1">
                    <template slot="title">
                      <h4>What is the Eligibility for ITTC – Level I program?</h4>
                    </template>
                    <p>
                      <ul>
                        <li>Undergraduate / Graduate / Post Graduate</li>
                        <li>With interest in teaching</li>
                      </ul>
                    </p>
                  </el-collapse-item>
                  <el-collapse-item name="2">
                    <template slot="title">
                      <h4>What is the Eligibility for ITTC Level II – Advanced program - iLed?</h4>
                    </template>
                    <p>
                      <ul>
                        <li>Graduate / Post graduate with 1+ years of experience</li>
                        <li>In teaching / training / counseling </li>
                      </ul>
                    </p>
                  </el-collapse-item>
                  <el-collapse-item name="3">
                    <template slot="title">
                      <h4>Who can take Train the Trainer Program?</h4>
                    </template>
                    <p>
                      <ul>
                        <li>Anybody interested in becoming a Trainer / Facilitator</li>
                        <li>Wanting to improve and be an effective communicator</li>
                        <li>Wanting to improve presentation skills</li>
                        <li>Wanting to make an impact in their teaching</li>
                        <li>Looking to shift their career from Teacher to a Trainer</li>
                      </ul>
                    </p>
                  </el-collapse-item>
                  <el-collapse-item name="4">
                    <template slot="title">
                      <h4>Documents required?</h4>
                    </template>
                    <p>
                      <ul>
                        <li>ID / address proof</li>
                        <li>Copy of your latest educational certificate</li>
                      </ul>
                    </p>
                  </el-collapse-item>
              </el-collapse>
            </div>
            <div class="col-md-6 col-sm-12">
              <iframe src="https://www.youtube-nocookie.com/embed/8e0AZzr779E" class="w-100" height="400" frameborder="0"></iframe>
            </div>
          </div>
        </div>
      </div>

      <el-dialog title="Register" :visible.sync="dialogFormVisible">
            <div>
                <ValidationObserver ref="form" v-slot="{ handleSubmit }">
                    <form class="form" method="post" @submit.prevent="handleSubmit(formHandler)">
                        <div class="row">
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="name">
                                    <div class="form-group">
                                        <label class="form-label">Name *</label>
                                        <el-input v-model="name" style="width: 100%;" placeholder="Enter Name"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required|email" name="email">
                                    <div class="form-group">
                                        <label class="form-label">Email *</label>
                                        <el-input v-model="email" style="width: 100%;" placeholder="Enter Email"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="phone">
                                    <div class="form-group">
                                        <label class="form-label">Phone *</label>
                                        <el-input v-model="phone" style="width: 100%;" placeholder="Enter Phone"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="message">
                                    <div class="form-group">
                                        <label class="form-label">Message *</label>
                                        <el-input v-model="message" type="textarea" :row="10" style="width: 100%;" placeholder="Enter Message"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12">
                                <button class="btn" type="submit">Register Now @ Rs. 500</button>
                            </div>
                        </div>
                    </form>
                </ValidationObserver>
            </div>
        </el-dialog>



    </div>
</template>

<script>
import FrontendClientCardComponent from '~/components/FrontendClientCardComponent.vue';
import FrontendTestimonialCardComponent from '~/components/FrontendTestimonialCardComponent.vue';
import SliderNavButtonComponent from '~/components/SliderNavButtonComponent.vue';
import FrontendAwardCardComponent from '~/components/FrontendAwardCardComponent.vue';

export default {
    name: "ParentingSkillPage",
    components: { FrontendClientCardComponent, SliderNavButtonComponent, FrontendTestimonialCardComponent, FrontendAwardCardComponent },
    layout: "FrontendLayout",
    data() {
        return {
          activeName: '1',
          dialogFormVisible: false,
          name: "",
          email: "",
          phone: "",
          message: "",
          slickOptionsClient: {
                arrows: false,
                dots: false,
                infinite: true,
                autoplay: true,
                autoplaySpeed: 5000,
                draggable: true,
                pauseOnHover: true,
                swipe: true,
                slidesToShow: 5,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: false,
                        },
                    },
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            dots: false,
                        },
                    },
                ],
            },
            slickOptions: {
                arrows: false,
                dots: false,
                infinite: true,
                autoplay: true,
                autoplaySpeed: 5000,
                draggable: true,
                pauseOnHover: true,
                swipe: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: false,
                        },
                    },
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            dots: false,
                        },
                    },
                ],
            },
        };
    },
    head: {
        script: [
            { src: 'https://checkout.razorpay.com/v1/checkout.js' },
        ],
    },
    mounted() {
        // eslint-disable-next-line nuxt/no-env-in-hooks
        if (process.client) {
            this.$scrollTo("#__nuxt", 0, { force: true });
        }
    },
    methods: {
      nextTestimonialNavClick(){
          this.$refs.slickTestimonial.next()
      },
      prevTestimonialNavClick(){
          this.$refs.slickTestimonial.prev()
      },
      async formHandler() {
          const loading = this.$loading({
          lock: true,
          fullscreen: true,
          });
          try {
              const validate = await this.$publicApi.post('/ittc-user/validate/',{ // eslint-disable-line
                  name: this.name,
                  email: this.email,
                  phone: this.phone,
                  message: this.message,
              }); // eslint-disable-line

                const response = await this.$publicApi.get('/ittc-user/generate-payment-order'); // eslint-disable-line
                this.loadRazorpay(response.data.data)
              // console.log(response);// eslint-disable-line
          } catch (err) {
              // console.log(err.response);// eslint-disable-line
              this.$refs.form.setErrors({
                email: err?.response?.data?.form_error?.email,
                message: err?.response?.data?.form_error?.message,
                name: err?.response?.data?.form_error?.name,
                phone: err?.response?.data?.form_error?.phone,
              });
              if(err?.response?.data?.message) this.$toast.error(err?.response?.data?.message)
              if(err?.response?.data?.error) this.$toast.error(err?.response?.data?.error)

          }finally{
              loading.close()
          }
      },
      loadRazorpay(data){
          const options = {
                  key: this.$config.RAZORPAY_KEY_ID,
                  amount: data.amount,
                  currency: data.currency,
                  description: "Payment description",
                  order_id: data.id,
                  prefill: {
                  name: this.name,
                  email: this.email,
                  contact: this.phone
              },
              theme: {
                  color: "#000000" // Set your website theme color
              },
              handler: async (response) => {
                  await this.verifyPayment(response, data)
              }
          };

          // eslint-disable-next-line no-undef
          const rzp = new Razorpay(options);
          rzp.open();
      },
      async verifyPayment(data, order){
          const loading = this.$loading({
              lock: true,
              fullscreen: true,
          });
          try {
              const response = await this.$publicApi.post('/ittc-user/verify-payment',{
                  razorpayOrderId: data.razorpay_order_id,
                  razorpayPaymentId: data.razorpay_payment_id,
                  signature: data.razorpay_signature,
                  name: this.name,
                  email: this.email,
                  phone: this.phone,
                  message: this.message,
                  receipt: order.receipt,
              }); // eslint-disable-line
              this.$toast.success(response.data.data.message)
              this.name=''
              this.email=''
              this.phone=''
              this.message=''
              this.$refs.form.reset()
              this.dialogFormVisible = false;
          } catch (err) {
              this.$refs.form.setErrors({
                  email: err?.response?.data?.form_error?.email,
                  message: err?.response?.data?.form_error?.message,
                  name: err?.response?.data?.form_error?.name,
                  phone: err?.response?.data?.form_error?.phone,
              });
              if(err?.response?.data?.message) this.$toast.error(err?.response?.data?.message)
              if(err?.response?.data?.error) this.$toast.error(err?.response?.data?.error)
          } finally{
              loading.close()
          }
      }
    }
}
</script>

<style scoped>
img {
    max-width: 100%;
    width: 100%;
}
.ittc-banner{
  position: relative;
  background-color: #027ec2;
  z-index: 2;
  padding-top: 150px;
}
.ittc-banner .container{
  position: relative;
  z-index: 3;
}
.ittc-banner h1{
  color: white;
}
.ittc-banner h3{
  color: white;
  font-weight: normal;
  margin-top: 20px;
}
.ittc-banner .btn{
  margin-top: 30px;
  background-color: white;
  border-color: white;
  color: #027ec2;
}
.ittc-banner::before {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	border-style: solid;
	border-color: transparent;
	border-width: 20vh 80vw;
	border-bottom-color: white;
	border-right-color: white;
  z-index: 1;
}
.swiper-container{
    position: relative;
}

.section-devider::before{
  top: unset;
  bottom: -10px;
  background:#ec3237;
  border-radius: 10px;
  height: 5px;
}
.section-title .title{
  color: #027ec2;
  font-weight: 400;
  font-size: 30px;
}
.detail p{
  text-align: justify;
  margin-bottom: 10px;
}
.shape_bg_div{
  background:#dde8fa;
}
.icon_shap_col{
  background-color: #0d96e2;
  color: white;
  font-size: 45px;
  width: 100%;
  height: 100%;
  display: inline-block;
  padding: 10px;
  border-radius: 50%;
}
.icon_main_shap_col{
  width: auto;
  height: auto;
  display: inline-block;
  border: 2px dashed #0d96e2;
  padding: 5px;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  margin-bottom: 15px;
}
.shape_bg_div .col-lg-4{
  width: 30%;
}
</style>
