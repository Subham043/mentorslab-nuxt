<template>
    <div>

      <div class="ittc-banner">
        <div class="container">
          <div class="row">
            <div class="col-md-7 col-sm-12">
              <h1>
                Integrated Teachers Training<br/>Certification Program (ITTC)
              </h1>
              <h3>
                One of the best integrated <b>Teachers Training Program</b>
              </h3>
              <button class="btn" @click="dialogFormVisible = true">Apply Now</button>
            </div>
            <div class="col-md-5 col-sm-12">
              <img src="/images/ittc.jpeg" alt="">
            </div>
          </div>
        </div>
      </div>

      <div class="py-5 detail">
        <div class="container">
          <div class="row">
            <div class="col-12 mb-5">
              <div class="section-title section-devider text-center">
                  <h2 class="title">WHY CHOOSE ITTC ?</h2>
              </div>
            </div>
            <div class="col-md-6 col-sm-12">
              <p>PFLA believes that academic briliance alone does not guarantee success in today's
highly competitive and fast paced world. With Academic achievements, SKILL
DEVELOPMENT is an absolute must to be employable, be competitive and succeed
in Life.</p>
                                <p>Our purpose is to help people unleash their true potential through life transforming
Personal Excellence Programs and motivate them to be successful in School, College
and Life. PFLA is an Award Winning (Future of India Award for Business
Excellence Achievement under Quality in Leadership Excellence) Academy. We
have trained and coached over 35000 people that include young Students at Schools,
Colleges and Business Schools, Corporate and Government Employees, Teaching
community</p>

            <button class="btn" @click="dialogFormVisible = true">Explore More</button>
            </div>
            <div class="col-md-6 col-sm-12">
              <iframe src="https://www.youtube-nocookie.com/embed/NGtNx1Y0o2U" class="w-100 h-100" frameborder="0"></iframe>
            </div>
            <div class="col-md-6 col-sm-12 mt-5">
              <iframe src="https://www.youtube-nocookie.com/embed/2hNl214ewdE" class="w-100 h-100" frameborder="0"></iframe>
            </div>
            <div class="col-md-6 col-sm-12 mt-5">
              <p>PFLA believes that academic briliance alone does not guarantee success in today's
highly competitive and fast paced world. With Academic achievements, SKILL
DEVELOPMENT is an absolute must to be employable, be competitive and succeed
in Life.</p>
                                <p>Our purpose is to help people unleash their true potential through life transforming
Personal Excellence Programs and motivate them to be successful in School, College
and Life. PFLA is an Award Winning (Future of India Award for Business
Excellence Achievement under Quality in Leadership Excellence) Academy. We
have trained and coached over 35000 people that include young Students at Schools,
Colleges and Business Schools, Corporate and Government Employees, Teaching
community</p>

            <button class="btn" @click="dialogFormVisible = true">Explore More</button>
            </div>
          </div>
        </div>
      </div>

      <div class="detail">
          <div class="shape_bg_div pt-5">
            <div class="container">
              <div class="row">
                <div class="col-12 mb-5">
                  <div class="section-title section-devider text-center">
                      <h2 class="title">BENEFITS</h2>
                  </div>
                </div>

              </div>
              <div class="row justify-content-center gap-5">
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-postcard"></i>
                        </div>
                      </div>
                      <h4>ISO CERTIFIED</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-money"></i>
                        </div>
                      </div>
                      <h4>LOWEST FEES</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-key"></i>
                        </div>
                      </div>
                      <h4>USER PERMISSION</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-service"></i>
                        </div>
                      </div>
                      <h4>MULTI-LANGUAGE SUPPORT</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-trophy"></i>
                        </div>
                      </div>
                      <h4>100% PLACEMENT ASSISTANCE</h4>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 text-center">
                    <div class="icon_col">
                      <div class="icon_main_shap_col">
                        <div class="icon_shap_col">
                          <i class="el-icon-user"></i>
                        </div>
                      </div>
                      <h4>HIGHLY EXPERIENCED TEACHERS</h4>
                    </div>
                </div>
              </div>
            </div>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 220">
            <path fill="#dde8fa" fill-opacity="1" d="M0,128L80,106.7C160,85,320,43,480,58.7C640,75,800,149,960,160C1120,171,1280,117,1360,90.7L1440,64L1440,0L1360,0C1280,0,1120,0,960,0C800,0,640,0,480,0C320,0,160,0,80,0L0,0Z"></path>
          </svg>
        </div>

         <!-- client Start -->
         <div class="section certificate-section section-padding pt-0">
            <div class="container">
                <!-- Certificate Wrapper Start -->
                <div class="certificate-wrapper">
                    <!-- Section Title Start -->
                    <div class="section-title section-devider text-center">
                        <h2 class="title">Awards and Accolades</h2>
                    </div>
                    <!-- Section Title End -->
                    <!-- Certificate Content Wrapper Start -->
                    <div class="certificate-content-wrapper">
                        <div class="row">
                            <FrontendAwardCardComponent image="/images/7.jpg" title="Future of India Award for Quality and Leadership Excellence" />
                            <FrontendAwardCardComponent image="/images/8.jpg" title="Best Coaching Institute of the Year Award 2021" />
                            <FrontendAwardCardComponent image="/images/25.jpeg" title="Education Start up of the Year 2021" />
                        </div>
                    </div>
                    <!-- Certificate Content Wrapper End -->
                </div>
                <!-- Certificate Wrapper End -->
            </div>
        </div>
        <!-- client End -->



        <!-- Certificate Start -->
      <div class="section certificate-section section-padding pt-5 mb-5">
            <div class="container">
                <!-- Certificate Wrapper Start -->
                <div class="certificate-wrapper">
                    <!-- Section Title Start -->
                    <div class="section-title section-devider text-center">
                        <h2 class="title">SCHOOL RECRUITING</h2>
                    </div>
                    <!-- Section Title End -->
                    <!-- Certificate Content Wrapper Start -->
                    <div class="certificate-content-wrapper client-wrapper">
                        <div class="row swiper-container client-active">
                            <div class="swiper-wrapper">
                                <VueSlickCarousel v-bind="slickOptionsClient" ref="slickClient">
                                    <FrontendClientCardComponent image="/images/clients/cl1.png" />
                                    <FrontendClientCardComponent image="/images/clients/2.png" />
                                    <FrontendClientCardComponent image="/images/clients/3.png" />
                                    <FrontendClientCardComponent image="/images/clients/5.png" />
                                    <FrontendClientCardComponent image="/images/clients/6.png" />
                                    <FrontendClientCardComponent image="/images/clients/7.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl2.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl3.png" />
                                    <FrontendClientCardComponent image="/images/clients/11.png" />
                                    <FrontendClientCardComponent image="/images/clients/12.png" />
                                    <FrontendClientCardComponent image="/images/clients/13.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl4.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                                    <FrontendClientCardComponent image="/images/clients/16.png" />
                                    <FrontendClientCardComponent image="/images/clients/18.png" />
                                    <FrontendClientCardComponent image="/images/clients/19.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                                    <FrontendClientCardComponent image="/images/clients/cl5.png" />
                            </VueSlickCarousel>
                                <!-- <div class="swiper-pagination"></div> -->
                            </div>
                        </div>
                    </div>
                    <!-- Certificate Content Wrapper End -->
                </div>
                <!-- Certificate Wrapper End -->
            </div>
      </div>
        <!-- Certificate End -->


        <!-- Testimonial Start -->
        <div class="section testimonial-section section-padding mb-5">
            <div class="container">
                <div class="section-title section-devider text-center">
                    <h2 class="title">TESTIMONIAL</h2>
                </div>
                <!-- Testimonial Wrapper Start -->
                <div class="testimonial-wrapper swiper-container testimonial-active">
                    <div class="swiper-wrapper">
                        <VueSlickCarousel v-bind="slickOptions" ref="slickTestimonial">
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Varsha Bhat"
                            designation="Principal - ANPS"
                            message="Without a doubt this is the best course you will find for Public Speaking.
                                        The course enables you to use proper tone, posture, presentation skills and
                                        speech preparation styles." />
                            <FrontendTestimonialCardComponent
                            image="/images/10.jpg"
                            title="Shilpa Raghu"
                            designation="Principal NBGI"
                            message="I have availed Career Guidance and Mentoring services from Varada Murthy @ VMLC
                                        and I felt that he is a Leader with great insight. If you are looking for
                                        Coaching, he is the one to go for." />
                            <FrontendTestimonialCardComponent
                            image="/images/11.jpg"
                            title="Priyanka Nair"
                            designation="Center Head at Kumon"
                            message="The public Speaking & Coaching session I have attended at VMLC benefited me a
                                        lot. I have gained a lot of confidence and can speak now without hesitation and
                                        address parents with confidence." />
                            <FrontendTestimonialCardComponent
                            image="/images/12.jpg"
                            title="Savitha R."
                            designation="Coordinator at Yellow"
                            message="TTP was an incredible program which added lot of values to my life, it is a
                                        perfect program for those who have desire to be a trainer. Madam & Sir are
                                        incredible Coaches." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Reshma Sultana"
                            designation="Lecturer, Hyderabad"
                            message="2 months was an unforgettable experience to me @ VMLC. Sir's guidance in making
                                        me repeatedly give speeches and giving me continuous feedback helped me develop
                                        confidence." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Aparna"
                            designation="VP - Treamis World School"
                            message="Public Speaking was a great exposure for our students, the training provided by
                                        VM has helped our students to gain confidence. We are glad to be part of this.
                                        The event was well organised- great job team!" />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Ganga Prasad"
                            designation="Principal - St. Mira's School"
                            message="The atmosphere was electrifying and fully charged. It was amazing to notice
                                        confidence levels of participants. This program has immensely helped our
                                        students and all other participants too. I congratulate PFLA team for the manner
                                        in which they have conducted this event." />
                            <FrontendTestimonialCardComponent
                            image="/images/avatar.png"
                            title="Sir M V PU College"
                            designation="Dr.Rajendra Naidu"
                            message="TPersonal Excellence Program with PS skills conducted by Shri Varada Murthy is a
                                        must for all students and our students have hugely benefited from this program.
                                        In fact, their attitude towards life and studies has changed after attending
                                        this program. I strongly recommend this to all Colleges." />
                    </VueSlickCarousel>
                    <SliderNavButtonComponent @previous-click="prevTestimonialNavClick" @next-click="nextTestimonialNavClick" />
                    </div>
                    <!-- Add Pagination -->
                    <!-- <div class="testimonial-arrow swiper-button-next"></div>
                    <div class="testimonial-arrow swiper-button-prev"></div>

                    <div class="swiper-pagination"></div> -->
                </div>
                <!-- Testimonial Wrapper End -->
            </div>
        </div>
        <!-- Testimonial End -->

        <div class="py-5 detail mb-5">
        <div class="container">
          <div class="row">
            <div class="col-12 mb-5">
              <div class="section-title section-devider text-center">
                  <h2 class="title">FAQ</h2>
              </div>
            </div>
            <div class="col-md-6 col-sm-12">
              <el-collapse v-model="activeName" accordion>
                  <el-collapse-item name="1">
                    <template slot="title">
                      <h4>How do i access the Fb Ad templates ?</h4>
                    </template>
                    <p>Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to;</p>
                    <p>Consistent within interface: all elements should be consistent, such as: design style, icons and texts, position of elements, etc.</p>
                  </el-collapse-item>
                  <el-collapse-item name="2">
                    <template slot="title">
                      <h4>How do i access the Fb Ad templates ?</h4>
                    </template>
                    <p>Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects;</p>
                    <p>Visual feedback: reflect current state by updating or rearranging elements of the page.</p>
                  </el-collapse-item>
                  <el-collapse-item name="3">
                    <template slot="title">
                      <h4>How do i access the Fb Ad templates ?</h4>
                    </template>
                    <p>Simplify the process: keep operating process simple and intuitive;</p>
                    <p>Definite and clear: enunciate your intentions clearly so that the users can quickly understand and make decisions;</p>
                    <p>Easy to identify: the interface should be straightforward, which helps the users to identify and frees them from memorizing and recalling.</p>
                  </el-collapse-item>
                  <el-collapse-item name="4">
                    <template slot="title">
                      <h4>How do i access the Fb Ad templates ?</h4>
                    </template>
                    <p>Decision making: giving advices about operations is acceptable, but do not make decisions for the users;</p>
                    <p>Controlled consequences: users should be granted the freedom to operate, including canceling, aborting or terminating current operation.</p>
                  </el-collapse-item>
              </el-collapse>
            </div>
            <div class="col-md-6 col-sm-12">
              <iframe src="https://www.youtube-nocookie.com/embed/8e0AZzr779E" class="w-100 h-100" frameborder="0"></iframe>
            </div>
          </div>
        </div>
      </div>

      <el-dialog title="Register" :visible.sync="dialogFormVisible">
            <div>
                <ValidationObserver ref="form" v-slot="{ handleSubmit }">
                    <form class="form" method="post" @submit.prevent="handleSubmit(formHandler)">
                        <div class="row">
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="name">
                                    <div class="form-group">
                                        <label class="form-label">Name *</label>
                                        <el-input v-model="name" style="width: 100%;" placeholder="Enter Name"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required|email" name="email">
                                    <div class="form-group">
                                        <label class="form-label">Email *</label>
                                        <el-input v-model="email" style="width: 100%;" placeholder="Enter Email"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="phone">
                                    <div class="form-group">
                                        <label class="form-label">Phone *</label>
                                        <el-input v-model="phone" style="width: 100%;" placeholder="Enter Phone"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12 mb-2">
                                <ValidationProvider v-slot="{ classes, errors }" rules="required" name="message">
                                    <div class="form-group">
                                        <label class="form-label">Message *</label>
                                        <el-input v-model="message" type="textarea" :row="10" style="width: 100%;" placeholder="Enter Message"></el-input>
                                    </div>
                                    <span :class="classes">{{ errors[0] }}</span>
                                </ValidationProvider>
                            </div>
                            <div class="col-md-12">
                                <button class="btn" type="submit">Register Now @ Rs. 500</button>
                            </div>
                        </div>
                    </form>
                </ValidationObserver>
            </div>
        </el-dialog>



    </div>
</template>

<script>
import FrontendClientCardComponent from '~/components/FrontendClientCardComponent.vue';
import FrontendTestimonialCardComponent from '~/components/FrontendTestimonialCardComponent.vue';
import SliderNavButtonComponent from '~/components/SliderNavButtonComponent.vue';
import FrontendAwardCardComponent from '~/components/FrontendAwardCardComponent.vue';

export default {
    name: "ParentingSkillPage",
    components: { FrontendClientCardComponent, SliderNavButtonComponent, FrontendTestimonialCardComponent, FrontendAwardCardComponent },
    layout: "FrontendLayout",
    data() {
        return {
          activeName: '1',
          dialogFormVisible: false,
          name: "",
          email: "",
          phone: "",
          message: "",
          slickOptionsClient: {
                arrows: false,
                dots: false,
                infinite: true,
                autoplay: true,
                autoplaySpeed: 5000,
                draggable: true,
                pauseOnHover: true,
                swipe: true,
                slidesToShow: 5,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: false,
                        },
                    },
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            dots: false,
                        },
                    },
                ],
            },
            slickOptions: {
                arrows: false,
                dots: false,
                infinite: true,
                autoplay: true,
                autoplaySpeed: 5000,
                draggable: true,
                pauseOnHover: true,
                swipe: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: false,
                        },
                    },
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            dots: false,
                        },
                    },
                ],
            },
        };
    },
    head: {
        script: [
            { src: 'https://checkout.razorpay.com/v1/checkout.js' },
        ],
    },
    mounted() {
        // eslint-disable-next-line nuxt/no-env-in-hooks
        if (process.client) {
            this.$scrollTo("#__nuxt", 0, { force: true });
        }
    },
    methods: {
      nextTestimonialNavClick(){
          this.$refs.slickTestimonial.next()
      },
      prevTestimonialNavClick(){
          this.$refs.slickTestimonial.prev()
      },
      async formHandler() {
          const loading = this.$loading({
          lock: true,
          fullscreen: true,
          });
          try {
              const validate = await this.$publicApi.post('/ittc-user/validate/',{ // eslint-disable-line
                  name: this.name,
                  email: this.email,
                  phone: this.phone,
                  message: this.message,
              }); // eslint-disable-line

                const response = await this.$publicApi.get('/ittc-user/generate-payment-order'); // eslint-disable-line
                this.loadRazorpay(response.data.data)
              // console.log(response);// eslint-disable-line
          } catch (err) {
              // console.log(err.response);// eslint-disable-line
              this.$refs.form.setErrors({
                email: err?.response?.data?.form_error?.email,
                message: err?.response?.data?.form_error?.message,
                name: err?.response?.data?.form_error?.name,
                phone: err?.response?.data?.form_error?.phone,
              });
              if(err?.response?.data?.message) this.$toast.error(err?.response?.data?.message)
              if(err?.response?.data?.error) this.$toast.error(err?.response?.data?.error)

          }finally{
              loading.close()
          }
      },
      loadRazorpay(data){
          const options = {
                  key: this.$config.RAZORPAY_KEY_ID,
                  amount: data.amount,
                  currency: data.currency,
                  description: "Payment description",
                  order_id: data.id,
                  prefill: {
                  name: this.name,
                  email: this.email,
                  contact: this.phone
              },
              theme: {
                  color: "#000000" // Set your website theme color
              },
              handler: async (response) => {
                  await this.verifyPayment(response, data)
              }
          };

          // eslint-disable-next-line no-undef
          const rzp = new Razorpay(options);
          rzp.open();
      },
      async verifyPayment(data, order){
          const loading = this.$loading({
              lock: true,
              fullscreen: true,
          });
          try {
              const response = await this.$publicApi.post('/ittc-user/verify-payment',{
                  razorpayOrderId: data.razorpay_order_id,
                  razorpayPaymentId: data.razorpay_payment_id,
                  signature: data.razorpay_signature,
                  name: this.name,
                  email: this.email,
                  phone: this.phone,
                  message: this.message,
                  receipt: order.receipt,
              }); // eslint-disable-line
              this.$toast.success(response.data.data.message)
              this.name=''
              this.email=''
              this.phone=''
              this.message=''
              this.$refs.form.reset()
              this.dialogFormVisible = false;
          } catch (err) {
              this.$refs.form.setErrors({
                  email: err?.response?.data?.form_error?.email,
                  message: err?.response?.data?.form_error?.message,
                  name: err?.response?.data?.form_error?.name,
                  phone: err?.response?.data?.form_error?.phone,
              });
              if(err?.response?.data?.message) this.$toast.error(err?.response?.data?.message)
              if(err?.response?.data?.error) this.$toast.error(err?.response?.data?.error)
          } finally{
              loading.close()
          }
      }
    }
}
</script>

<style scoped>
img {
    max-width: 100%;
    width: 100%;
}
.ittc-banner{
  position: relative;
  background-color: #027ec2;
  z-index: 2;
  padding-top: 150px;
}
.ittc-banner .container{
  position: relative;
  z-index: 3;
}
.ittc-banner h1{
  color: white;
}
.ittc-banner h3{
  color: white;
  font-weight: normal;
  margin-top: 20px;
}
.ittc-banner .btn{
  margin-top: 30px;
  background-color: white;
  border-color: white;
  color: #027ec2;
}
.ittc-banner::before {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	border-style: solid;
	border-color: transparent;
	border-width: 20vh 80vw;
	border-bottom-color: white;
	border-right-color: white;
  z-index: 1;
}
.swiper-container{
    position: relative;
}

.section-devider::before{
  top: unset;
  bottom: -10px;
  background:#ec3237;
  border-radius: 10px;
  height: 5px;
}
.section-title .title{
  color: #027ec2;
  font-weight: 400;
  font-size: 30px;
}
.detail p{
  text-align: justify;
  margin-bottom: 10px;
}
.shape_bg_div{
  background:#dde8fa;
}
.icon_shap_col{
  background-color: #0d96e2;
  color: white;
  font-size: 45px;
  width: 100%;
  height: 100%;
  display: inline-block;
  padding: 10px;
  border-radius: 50%;
}
.icon_main_shap_col{
  width: auto;
  height: auto;
  display: inline-block;
  border: 2px dashed #0d96e2;
  padding: 5px;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  margin-bottom: 15px;
}
.shape_bg_div .col-lg-4{
  width: 30%;
}
</style>
